// tests/setupTests.ts
Object.defineProperty(global.HTMLElement.prototype, 'createDiv', {
    value: function (options) {
        const div = document.createElement('div');
        if (typeof options === 'string') {
            // If options is just a string, treat it as class(es)
            // Split by space and add each class individually
            options.split(' ').forEach(cls => {
                if (cls)
                    div.classList.add(cls); // Add check for empty strings from multiple spaces
            });
        }
        else if (options) {
            // Handle object options
            if (options.cls) {
                if (Array.isArray(options.cls)) {
                    // If cls is an array, add all classes
                    div.classList.add(...options.cls);
                }
                else if (typeof options.cls === 'string') {
                    // *** FIX HERE ***
                    // If cls is a string, split by space and add each class individually
                    options.cls.split(' ').forEach(cls => {
                        if (cls)
                            div.classList.add(cls); // Add check for empty strings
                    });
                }
            }
            // Text content
            if (options.text) {
                div.textContent = options.text;
            }
            // Attributes
            if (options.attr) {
                for (const key in options.attr) {
                    div.setAttribute(key, options.attr[key]);
                }
            }
            // Title
            if (options.title) {
                div.title = options.title;
            }
        }
        this.appendChild(div);
        return div;
    },
    writable: true,
    configurable: true
});
// === IMPORTANT ===
// If you also mocked .createEl() or other similar helpers,
// make sure to apply the same fix
// *** ADD MOCK FOR createSpan ***
Object.defineProperty(global.HTMLElement.prototype, 'createSpan', {
    value: function (options) {
        // Create a SPAN element instead of a DIV
        const span = document.createElement('span');
        // Apply options (logic is identical to createDiv)
        if (typeof options === 'string') {
            options.split(' ').forEach(cls => { if (cls)
                span.classList.add(cls); });
        }
        else if (options) {
            if (options.cls) {
                if (Array.isArray(options.cls)) {
                    span.classList.add(...options.cls);
                }
                else if (typeof options.cls === 'string') {
                    options.cls.split(' ').forEach(cls => { if (cls)
                        span.classList.add(cls); });
                }
            }
            if (options.text) {
                span.textContent = options.text;
            }
            if (options.attr) {
                for (const key in options.attr) {
                    span.setAttribute(key, options.attr[key]);
                }
            }
            if (options.title) {
                span.title = options.title;
            }
        }
        this.appendChild(span); // Append the new span
        return span; // Return the created span
    },
    writable: true,
    configurable: true
});
// Remember: Add mocks for any other Obsidian helpers like
// createEl, setText, etc., if your component uses them.
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0dXBUZXN0cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNldHVwVGVzdHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsc0JBQXNCO0FBRXRCLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsV0FBVyxFQUFFO0lBQzdELEtBQUssRUFBRSxVQUFTLE9BQTRHO1FBQ3hILE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFMUMsSUFBSSxPQUFPLE9BQU8sS0FBSyxRQUFRLEVBQUUsQ0FBQztZQUM5QixxREFBcUQ7WUFDckQsaURBQWlEO1lBQ2pELE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUM3QixJQUFJLEdBQUc7b0JBQUUsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxtREFBbUQ7WUFDeEYsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO2FBQ0ksSUFBSSxPQUFPLEVBQUUsQ0FBQztZQUNkLHdCQUF3QjtZQUN4QixJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztnQkFDZixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQzdCLHNDQUFzQztvQkFDdEMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3RDLENBQUM7cUJBQU0sSUFBSSxPQUFPLE9BQU8sQ0FBQyxHQUFHLEtBQUssUUFBUSxFQUFFLENBQUM7b0JBQ3pDLG1CQUFtQjtvQkFDbkIscUVBQXFFO29CQUNyRSxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7d0JBQ2pDLElB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SUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ2hCLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztZQUMvQixDQUFDO1FBQ0wsQ0FBQztRQUVELElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxzQkFBc0I7UUFDOUMsT0FBTyxJQUFJLENBQUMsQ0FBQywwQkFBMEI7SUFDM0MsQ0FBQztJQUNELFFBQVEsRUFBRSxJQUFJO0lBQ2QsWUFBWSxFQUFFLElBQUk7Q0FDckIsQ0FBQyxDQUFDO0FBRUgsMERBQTBEO0FBQzFELHdEQUF3RCIsInNvdXJjZXNDb250ZW50IjpbIi8vIHRlc3RzL3NldHVwVGVzdHMudHNcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbC5IVE1MRWxlbWVudC5wcm90b3R5cGUsICdjcmVhdGVEaXYnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uKG9wdGlvbnM/OiBzdHJpbmcgfCB7IGNscz86IHN0cmluZyB8IHN0cmluZ1tdLCB0ZXh0Pzogc3RyaW5nLCBhdHRyPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiwgdGl0bGU/OiBzdHJpbmcgfSkge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBJZiBvcHRpb25zIGlzIGp1c3QgYSBzdHJpbmcsIHRyZWF0IGl0IGFzIGNsYXNzKGVzKVxuICAgICAgICAgICAgLy8gU3BsaXQgYnkgc3BhY2UgYW5kIGFkZCBlYWNoIGNsYXNzIGluZGl2aWR1YWxseVxuICAgICAgICAgICAgb3B0aW9ucy5zcGxpdCgnICcpLmZvckVhY2goY2xzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2xzKSBkaXYuY2xhc3NMaXN0LmFkZChjbHMpOyAvLyBBZGQgY2hlY2sgZm9yIGVtcHR5IHN0cmluZ3MgZnJvbSBtdWx0aXBsZSBzcGFjZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAvLyBIYW5kbGUgb2JqZWN0IG9wdGlvbnNcbiAgICAgICAgICAgICBpZiAob3B0aW9ucy5jbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmNscykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgY2xzIGlzIGFuIGFycmF5LCBhZGQgYWxsIGNsYXNzZXNcbiAgICAgICAgICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoLi4ub3B0aW9ucy5jbHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuY2xzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAvLyAqKiogRklYIEhFUkUgKioqXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGNscyBpcyBhIHN0cmluZywgc3BsaXQgYnkgc3BhY2UgYW5kIGFkZCBlYWNoIGNsYXNzIGluZGl2aWR1YWxseVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNscy5zcGxpdCgnICcpLmZvckVhY2goY2xzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbHMpIGRpdi5jbGFzc0xpc3QuYWRkKGNscyk7IC8vIEFkZCBjaGVjayBmb3IgZW1wdHkgc3RyaW5nc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUZXh0IGNvbnRlbnRcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRleHQpIHtcbiAgICAgICAgICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBvcHRpb25zLnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBdHRyaWJ1dGVzXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucy5hdHRyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoa2V5LCBvcHRpb25zLmF0dHJba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGl0bGVcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gb3B0aW9ucy50aXRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9LFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5cbi8vID09PSBJTVBPUlRBTlQgPT09XG4vLyBJZiB5b3UgYWxzbyBtb2NrZWQgLmNyZWF0ZUVsKCkgb3Igb3RoZXIgc2ltaWxhciBoZWxwZXJzLFxuLy8gbWFrZSBzdXJlIHRvIGFwcGx5IHRoZSBzYW1lIGZpeFxuXG4vLyAqKiogQUREIE1PQ0sgRk9SIGNyZWF0ZVNwYW4gKioqXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsLkhUTUxFbGVtZW50LnByb3RvdHlwZSwgJ2NyZWF0ZVNwYW4nLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uKG9wdGlvbnM/OiBzdHJpbmcgfCB7IGNscz86IHN0cmluZyB8IHN0cmluZ1tdLCB0ZXh0Pzogc3RyaW5nLCBhdHRyPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiwgdGl0bGU/OiBzdHJpbmcgfSkge1xuICAgICAgICAvLyBDcmVhdGUgYSBTUEFOIGVsZW1lbnQgaW5zdGVhZCBvZiBhIERJVlxuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG4gICAgICAgIC8vIEFwcGx5IG9wdGlvbnMgKGxvZ2ljIGlzIGlkZW50aWNhbCB0byBjcmVhdGVEaXYpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuc3BsaXQoJyAnKS5mb3JFYWNoKGNscyA9PiB7IGlmIChjbHMpIHNwYW4uY2xhc3NMaXN0LmFkZChjbHMpOyB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2xzKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5jbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCguLi5vcHRpb25zLmNscyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5jbHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2xzLnNwbGl0KCcgJykuZm9yRWFjaChjbHMgPT4geyBpZiAoY2xzKSBzcGFuLmNsYXNzTGlzdC5hZGQoY2xzKTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudGV4dCkge1xuICAgICAgICAgICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBvcHRpb25zLnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucy5hdHRyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKGtleSwgb3B0aW9ucy5hdHRyW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgc3Bhbi50aXRsZSA9IG9wdGlvbnMudGl0bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHNwYW4pOyAvLyBBcHBlbmQgdGhlIG5ldyBzcGFuXG4gICAgICAgIHJldHVybiBzcGFuOyAvLyBSZXR1cm4gdGhlIGNyZWF0ZWQgc3BhblxuICAgIH0sXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuLy8gUmVtZW1iZXI6IEFkZCBtb2NrcyBmb3IgYW55IG90aGVyIE9ic2lkaWFuIGhlbHBlcnMgbGlrZVxuLy8gY3JlYXRlRWwsIHNldFRleHQsIGV0Yy4sIGlmIHlvdXIgY29tcG9uZW50IHVzZXMgdGhlbS4iXX0=