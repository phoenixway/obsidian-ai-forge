// src/styles/_sidebar.scss
// МІНІМАЛЬНА ВЕРСІЯ ДЛЯ ДІАГНОСТИКИ МАКЕТУ

// --- Змінні для тесту ---
$indent-step: 18px;
$item-padding-vertical: 4px;
$item-padding-horizontal: 8px;
$icon-size: 16px;
$icon-margin: 8px; // Gap

// --- Базові контейнери (лише для структури, якщо необхідно) ---
.ollama-sidebar-container {
  display: flex;
  flex-direction: column;
  width: var(--ai-forge-sidebar-width, 250px);
  min-width: var(--ai-forge-sidebar-width, 250px);
  flex-shrink: 0;
  background-color: var(--background-secondary);
  border-right: 1px solid var(--divider-color);
  height: 100%;
  overflow: hidden;
  box-sizing: border-box;
  padding: var(--size-4-2);
  margin-right: var(--size-4-2);
  transition: width 0.25s ease-out, min-width 0.25s ease-out, opacity 0.25s ease-out, padding 0.25s ease-out, margin 0.25s ease-out, border 0.25s ease-out;

  &.internal-sidebar-hidden {
      width: 0 !important; min-width: 0 !important; opacity: 0 !important;
      padding: 0 !important; margin: 0 !important; border: none !important;
      overflow: hidden !important; pointer-events: none !important;
  }
}
.ollama-chat-list-container {
     // border: 1px solid magenta; // Рамка списку
}

// --- Стилі для ієрархії (МІНІМУМ) ---

// Зовнішній елемент рядка
.ollama-hierarchy-item {
    margin: 1px 0;
    position: relative; // Для дочірнього контейнера
    border: 1px dashed rgba(0, 0, 0, 0.2); // DEBUG: Межі зовнішнього елемента
    padding-left: 0; // Скидаємо тут, відступ буде на контенті

    // Застосовуємо відступ до зовнішнього елемента з !important (бо це працювало)
    @for $i from 0 through 10 {
      &.ollama-indent-level-#{$i} {
        padding-left: $item-padding-horizontal + ($i * $indent-step) !important;
      }
    }
}

// Внутрішній контейнер контенту
.ollama-hierarchy-item-content {
    display: flex !important;       // <--- Головне правило для тесту
    align-items: center !important; // <--- Вирівнювання
    width: 100%;
    box-sizing: border-box;
    // Мінімальний padding, БЕЗ лівого (він на батьку)
    padding: $item-padding-vertical $item-padding-horizontal $item-padding-vertical 0;
    gap: $icon-margin;           // Проміжок між іконкою і текстом
    min-height: 28px;             // Мінімальна висота
    border: 1px dotted blue;      // DEBUG: Межі контенту
    background-color: rgba(0,0,255, 0.05); // DEBUG: Легкий фон контенту
}

// Іконка (спільний клас)
.ollama-folder-icon {
    display: inline-block !important; // Спробуємо inline-block для іконки
    flex-shrink: 0;                 // Не стискати
    width: $icon-size;
    height: $icon-size;
    margin: 0;                      // Без додаткових відступів
    border: 1px solid lime;         // DEBUG: Межі іконки
    vertical-align: middle;         // Спробуємо вирівняти по вертикалі
}

// Текст
.ollama-hierarchy-item-text {
    display: inline !important;      // Спробуємо inline для тексту
    flex-grow: 1;                  // Займати доступне місце
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    border: 1px solid orange;       // DEBUG: Межі тексту
    vertical-align: middle;         // Спробуємо вирівняти по вертикалі
    min-width: 0;                   // Для ellipsis
}

// --- Приховування дочірніх елементів ---
.ollama-hierarchy-item-children {
   display: block; // Повинен бути блоком
   padding-left: 0; // Відступи контролюються дітьми
   border: 1px dotted purple; // DEBUG: Межі контейнера дітей
}
.ollama-hierarchy-item.is-collapsed > .ollama-hierarchy-item-children {
    display: none !important; // Приховуємо з !important
}

// --- ВИДАЛЕНО ВСІ ІНШІ СТИЛІ (hover, active, options, details, roles, menu) ---