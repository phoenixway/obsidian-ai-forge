// src/styles/_sidebar.scss
// ДУЖЕ МІНІМАЛЬНА ВЕРСІЯ для перевірки структури та рекурсії

$indent-step: 16px; // Зменшимо крок для меншого візуального зсуву іконок дітей
$item-padding-vertical: var(--size-4-1);
$item-padding-horizontal: var(--size-4-2); // Базовий горизонтальний відступ
$icon-size: 16px;
$icon-margin: var(--size-4-2); // Проміжок між іконкою та текстом
$folder-icon-extra-indent: 4px; // Невеликий зсув іконки папки праворуч (налаштуйте)

// Тільки необхідні контейнери для базової структури
.ollama-sidebar-container {
  display: flex;
  flex-direction: column;
  width: var(--ai-forge-sidebar-width, 250px);
  min-width: var(--ai-forge-sidebar-width, 250px);
  flex-shrink: 0;
  background-color: var(--background-secondary);
  border-right: 1px solid var(--divider-color);
  height: 100%;
  overflow: hidden;
  box-sizing: border-box;
  padding: var(--size-4-2);
  margin-right: var(--size-4-2);
  transition: width 0.25s ease-out, min-width 0.25s ease-out, opacity 0.25s ease-out, padding 0.25s ease-out, margin 0.25s ease-out, border 0.25s ease-out;

  &.internal-sidebar-hidden {
      width: 0 !important; min-width: 0 !important; opacity: 0 !important;
      padding: 0 !important; margin: 0 !important; border: none !important;
      overflow: hidden !important; pointer-events: none !important;
  }

}
.ollama-chat-list-container {}

.ollama-hierarchy-item {
    // Мінімальні стилі для самого елемента
    margin: 1px 0;
    position: relative; // Для children

    // Відступи - застосовуємо з !important, оскільки це працювало
     @for $i from 0 through 10 {
       &.ollama-indent-level-#{$i} {
         padding-left: $item-padding-horizontal + ($i * $indent-step) !important;
       }
     }
}

.ollama-hierarchy-item-content {
    display: flex !important; // Найважливіше!
    align-items: center !important;
    padding: $item-padding-vertical $item-padding-horizontal $item-padding-vertical 0; // Тільки вертикальний та правий
    gap: $icon-margin; // Проміжок
    min-height: 28px;
}

.ollama-folder-icon { // Стилі для ВСІХ іконок на початку
    flex-shrink: 0;
    width: $icon-size;
    height: $icon-size;
    display: flex;
    align-items: center;
    justify-content: center;
}

.ollama-hierarchy-item-text { // Стилі для тексту
    flex-grow: 1;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    min-width: 0; // Для ellipsis у flex
}

// Приховування дітей для згорнутих папок
.ollama-hierarchy-item-children {
    display: block; // Має бути block, щоб займати місце
    padding-left: 0; // Відступи контролюються дітьми
}
.ollama-hierarchy-item.is-collapsed > .ollama-hierarchy-item-children {
    display: none !important; // Примусово ховаємо
}

// --- ВСІ ІНШІ СТИЛІ ВИДАЛЕНО ---
// (hover, active, options, details, roles, menu, header, etc.)